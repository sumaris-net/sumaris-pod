---
-- #%L
-- SUMARiS:: Core
-- %%
-- Copyright (C) 2018 - 2021 SUMARiS Consortium
-- %%
-- This program is free software: you can redistribute it and/or modify
-- it under the terms of the GNU General Public License as
-- published by the Free Software Foundation, either version 3 of the
-- License, or (at your option) any later version.
-- 
-- This program is distributed in the hope that it will be useful,
-- but WITHOUT ANY WARRANTY; without even the implied warranty of
-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-- GNU General Public License for more details.
-- 
-- You should have received a copy of the GNU General Public
-- License along with this program.  If not, see
-- <http://www.gnu.org/licenses/gpl-3.0.html>.
-- #L%
---
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRARC', 'Arcachon', 'XAC', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRHMX', 'Batz (Ile-de-Batz)', 'HMX', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRBM5', 'Beg Meil (Fouesnant)', 'BCC', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRIEC', 'Belon (Riec-sur-Belon)', 'JCC', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRHCN', 'Doëlan (Clohars-Carnoët)', 'MCC', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRGV6', 'Gravette (La Plaine-sur-Mer)', 'JNA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRHOT', 'Ile-d''Houat', 'FAY', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRIDH', 'Iles du golfe du Morbihan (ens. de communes)', 'KVA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRMHB', 'La Trinité-sur-Mer', 'DAY', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRDUT', 'Lanildut', 'JBR', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRCQ2', 'Le Conquet', 'NBR', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPL4', 'Le Pouliguen', 'DSN', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRLKL', 'Lesconil (Plobannalec)', 'BGV', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRNTE', 'Nantes', 'XNA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPIR', 'Piriac-sur-Mer', 'ASN', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPLO', 'Plougasnou (Le Diben-Primel)', 'BMX', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPRC', 'Pornic', 'DNA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPE3', 'Pors-Even (Ploubazlanec)', 'CPL', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRCG2', 'Saint-Cast-le-Guildo', 'CSB', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRGN2', 'Saint-Guénolé (Penmarch)', 'AGV', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRYSZ', 'Sarzeau', 'CVA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRTT2', 'Tréhiguier-en-Pénestin (Pénestin)', 'EVA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPRJ', 'Port-Joinville (L''Ile-d''Yeu)', 'XYE', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FROS2', 'Ouessant', 'LBR', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRPBN', 'Port-Blanc (Trévou-Tréguignec)', 'JPL', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRSNR', 'Saint-Nazaire', 'XSN', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRGFR', 'Granville', 'UCH', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRQUI', 'Quiberon (Port-Maria)', 'AAY', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRLRT', 'Lorient', 'XLO', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRLFY', 'La Fresnaye (Erquy)', 'DSB', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRAUD', 'Audierne', 'XAD', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRBES', 'Brest', 'XBR', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRTRK', 'Tréboul (Douarnenez)', 'DDZ', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRZJZ', 'Saint-Jean-de-Luz, Ciboure', 'CBA', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FROII', 'Le Croisic', 'CSN', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRGPA', 'Loguivy de la mer (Ploubazlanec)', 'EPL', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRLSO', 'Les Sables-d''Olonne', 'XLS', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRLQE', 'Larvor (Loctudy)', 'GGV', 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'FRTBE', 'La Turballe', 'BSN', 1, 1, 2, current_timestamp, current_timestamp);

-- Make sure to set Harmonie labels into comments, for already existing harbours
update LOCATION set comments='GMX' where label='FRGMX' and name='Roscoff' and LOCATION_LEVEL_FK=2;
update LOCATION set comments='ESB' where label='FRQUY' and name='Erquy' and LOCATION_LEVEL_FK=2;
update LOCATION set comments='XDZ' where label='FRDRZ' and name='Douarnenez' and LOCATION_LEVEL_FK=2;
update LOCATION set comments='CGV' where label='FRCGV' and name='Loctudy' and LOCATION_LEVEL_FK=2;

insert into location_association (child_location_fk, parent_location_fk, child_surface_ratio, is_main_association, update_date)
    (
        select l.ID,
               1,
               1,
               null,
               current_timestamp
        from location l
        where l.location_level_fk=2
          and l.label like 'FR%'
          and not exists(select * from location_association where child_location_fk = L.id)
    );

insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'ESOND', 'Ondarroa', null, 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'IECSW', 'Castletownbere', null, 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'IEKBS', 'Killybegs', null, 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'ESLCG', 'La Coruña', null, 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'GBLOV', 'Lochinver', null, 1, 1, 2, current_timestamp, current_timestamp);
insert into LOCATION (ID, LABEL, NAME, COMMENTS, STATUS_FK, VALIDITY_STATUS_FK, LOCATION_LEVEL_FK, CREATION_DATE, UPDATE_DATE) values (NEXT VALUE FOR location_seq, 'ESPAS', 'Pasajes', null, 1, 1, 2, current_timestamp, current_timestamp);

insert into location_association (child_location_fk, parent_location_fk, child_surface_ratio, is_main_association, update_date)
    (
        select l.ID,
               2,
               1,
               null,
               current_timestamp
        from location l
        where l.location_level_fk=2
          and l.label like 'GB%'
          and not exists(select * from location_association where child_location_fk = L.id)
    );
insert into location_association (child_location_fk, parent_location_fk, child_surface_ratio, is_main_association, update_date)
    (
        select l.ID,
               8893,
               1,
               null,
               current_timestamp
        from location l
        where l.location_level_fk=2
          and l.label like 'ES%'
          and not exists(select * from location_association where child_location_fk = L.id)
    );
insert into location_association (child_location_fk, parent_location_fk, child_surface_ratio, is_main_association, update_date)
    (
        select l.ID,
               8907,
               1,
               null,
               current_timestamp
        from location l
        where l.location_level_fk=2
          and l.label like 'IE%'
          and not exists(select * from location_association where child_location_fk = L.id)
    );

commit;
