<!doctype html>
<!--
  #%L
  SUMARiS:: Server
  %%
  Copyright (C) 2018 SUMARiS Consortium
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->

<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Pod Api - GraphQL subscription</title>
    <link rel="icon" href="/api/favicon" type="image/x-icon" />

    <link rel="stylesheet" href="/api/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/api/css/bootstrap-grid.min.css" />
    <link rel="stylesheet" href="/api/css/theme.css" />

    <link href="/static/yasgui/css/yasgui.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/yasgui/css/app-yasgui.css" rel="stylesheet" type="text/css" />

</head>
<body>

    <!-- Top menu-->
    <div id="menu"></div>

    <div class="container">

        <h1>GraphQL subscription</h1>

        <div class="form-group">
            <label for="wsUri">Websocket API URL</label>
            <div class="form-inline">
                <input type="text" name="wsUri" id="wsUri" class="form-control" placeholder="ws://server/path" style="width: 80%;">
                &nbsp;
                <button id="buttonConnect" type="button" onclick="app.doOpenOrClose()" class="btn btn-primary" tabindex="-1" style="width: 15%; min-width: 150px;">Disconnect</button>
            </div>
        </div>

        <div class="form-group">
            <label for="content">Content</label>
            <textarea name="content" id="content" rows="10" class="form-control" placeholder="Content to sent"></textarea><br/>
            <p>
            Examples:&nbsp;
            <a href="#" onclick="app.showExample('connection_init');">connection</a>&nbsp;|&nbsp;
            <a href="#" onclick="app.showExample('account_changes');">account changes</a>&nbsp;|&nbsp;
            <a href="#" onclick="app.showExample('trip_changes');">trip changes</a>
            </p>
        </div>

        <div class="form-group text-center">
            <button type="button" onclick="app.clearScreen()" class="btn btn-light btn-lg">Clear output</button>
            <button type="button" onclick="app.doSendContent()" class="btn btn-primary btn-lg">Send</button>
        </div>

        <!-- log output -->
        <h2>Log:</h2>
        <div id="output" style="padding-left: 15px;"></div>


    </div>

    <script type="text/javascript" src="/api/js/jquery.slim.min.js"></script>
    <script type="text/javascript" src="/api/js/popper.min.js"></script>
    <script type="text/javascript" src="/api/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/api/js/app-menu.js"></script>

    <script type="text/javascript" src="/websocket/js/app-websocket.js"></script>

    <script language="JavaScript" type="text/javascript">
        const menu = new AppMenu('#menu', {active: '#nav-item-tools'});
        const app = new AppWebsocket();
    </script>
</body>
</html>